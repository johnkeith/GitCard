// function buildProfilePage(user, languages_percents, repos) {
//   // array of random colors, generated by the length of the languages_percents var
//   var colorScheme = createColorScheme(languages_percents)

//   var profileHeader = "<div class=\"row text-center\"><div class=\"profile-header\"> + '#{}' +</div></div>"

//   // append all sections to page
//   $("#profile-page").append("")

// });

// function createColorScheme(languages_percents) {
//   var languages = $.parseJSON(languages_percents);
//   var randomColors = randomColor({
//     count: Object.keys(languages).length,
//     luminosity: "dark"
//   });
//   return randomColors;
// }

function buildLanguagesDoughnut(data){
  var languages = $.parseJSON(data);
  var langsCanvas = $("#languages-doughnut")[0].getContext("2d");
  var langsData = [];
  var legendTemplate = "<ul class=\"languages-doughnut-legend-item\">";
  var randomColors = randomColor({
    count: Object.keys(languages).length,
    luminosity: "dark"
  });

  each_index = 0;
  $.each(languages, function(language, percent){
    langsData.push({
      value: percent,
      color: randomColors[each_index],
      highlight: randomColors[each_index],
      label: language
    });
    legendTemplate += ("<li style=\"background-color:" + randomColors[each_index] +
      ";color:white;padding:15px\">" + language + ": " + percent + "%</li>");
    each_index ++;
  });

  var langsOptions = {
    responsive: true,
    legendTemplate: legendTemplate + "</ul>"
  };
  var languagesDoughnut = new Chart(langsCanvas).Doughnut(langsData, langsOptions);
  $("#languages-doughnut-legend").append(languagesDoughnut.generateLegend());
}
